<div role="listbox" aria-label="Background settings" class="tabs" data-bind="listbox: {}">
    <div role="presentation" class="tab" data-bind="css: { 'tab-is-active': !sourceKey() && !colorKey() && !gradientKey() }">
        <a role="option" aria-label="Clear background"
            data-bind="tooltip: 'Clear background', activate: clearBackground">
            <i aria-hidden="true" class="paperbits-icon paperbits-ban"></i>
        </a>
    </div>

    <div role="presentation" class="tab" data-bind="css: { 'tab-is-active': sourceKey }">
        <a role="option" aria-label="Background picture" aria-haspopup="true"
            data-bind="tooltip: 'Background picture', balloon: { component: { name: 'media-selector', params: { onSelect: $component.onMediaSelected } } }">
            <i aria-hidden="true" class="paperbits-icon paperbits-image-2"></i>
        </a>
    </div>

    <div role="presentation" class="tab" data-bind="css: { 'tab-is-active': colorKey }">
        <a role="option" aria-label="Background color" aria-haspopup="true"
            data-bind="tooltip: 'Background color', balloon: { component: { name: 'color-selector', params: { selectedColorKey: $component.colorKey, onSelect: $component.onColorSelected } } }">
            <i aria-hidden="true" class="paperbits-icon paperbits-paint-bucket-40"></i>
        </a>
    </div>

    <div role="presentation" class="tab" data-bind="css: { 'tab-is-active': gradientKey }">
        <a role="option" aria-label="Background gradient" aria-haspopup="true"
            data-bind="tooltip: 'Background gradient', balloon: { component: { name: 'gradient-selector', params: { onSelect: $component.onGradientSelected, selectedGradientKey: $component.gradientKey } } }">
            <i aria-hidden="true" class="paperbits-icon paperbits-gradient"></i>
        </a>
    </div>
</div>

<div class="dropzone">
    <div class="dropzone-controls">
        <!-- ko if: sourceKey() -->
        <svg alignment="top left" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">
            <polygon points="2,2 14,2 14,14" />
        </svg>
        <svg alignment="top center" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">
            <polygon points="2,2 14,2 14,14" />
        </svg>
        <svg alignment="top right" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">
            <polygon points="2,2 14,2 14,14" />
        </svg>
        <svg alignment="center left" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">
            <polygon points="2,2 14,2 14,14" />
        </svg>
        <svg alignment="center right" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">
            <polygon points="2,2 14,2 14,14" />
        </svg>
        <svg alignment="bottom left" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">
            <polygon points="2,2 14,2 14,14" />
        </svg>
        <svg alignment="bottom center" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">
            <polygon points="2,2 14,2 14,14" />
        </svg>
        <svg alignment="bottom right" data-bind="alignment: { position: direction, onChange: onAlignmentChange }">
            <polygon points="2,2 14,2 14,14" />
        </svg>
        <!-- /ko -->
        <style data-bind="jss: backgroundPreview"></style>
        <div role="presentation" class="dropzone-showbox" alignment="center center"
            data-bind="alignment: { position: direction, onChange: onAlignmentChange }">
            <div class="fit" data-bind="css: backgroundClass"></div>
        </div>
    </div>
</div>

<!-- ko if: sourceKey() -->

<!-- ko if: horizontalOffsetDirection() && horizontalOffsetDirection() !== 'center' -->
<div class="form-group">
    <label class="form-label"><span class="capitalize" data-bind="text: horizontalOffsetDirection"></span> offset
        (px)</label>
    <input type="number" min="0" class="form-control" data-bind="textInput: horizontalOffset">
</div>
<!-- /ko -->

<!-- ko if: verticalOffsetDirection() && verticalOffsetDirection() !== 'center' -->
<div class="form-group">
    <label class="form-label"><span class="capitalize" data-bind="text: verticalOffsetDirection"></span> offset
        (px)</label>
    <input type="number" min="0" class="form-control" data-bind="textInput: vertialOffset">
</div>
<!-- /ko -->

<label class="form-label">
    Background sizing
    <button class="btn btn-info" role="tooltip"
        data-bind="tooltip: '<p><b>Contain:</b> Resize the background image to cover the entire container, even if it has to stretch the image or cut a little bit off one of the edges.</p><p><b>Cover:</b> Resize the background image to make sure the image is fully visible.</p>'"></button>
</label>
<div class="form-group">
    <label class="form-label">
        <input name="size" type="radio" value="original" data-bind="checked: size" />Original
    </label>
    <label class="form-label">
        <input name="size" type="radio" value="cover" data-bind="checked: size, event: { change: applyChanges }" />Cover
    </label>
    <label class="form-label">
        <input name="size" type="radio" value="contain"
            data-bind="checked: size, event: { change: applyChanges }" />Contain
    </label>
</div>

<label class="form-label">
    Background attachment
</label>
<div class="form-group">
    <label class="form-label">
        <input name="attachment" type="radio" value="inherit" data-bind="checked: attachment" />Inherit
    </label>
    <label class="form-label">
        <input name="attachment" type="radio" value="scroll"
            data-bind="checked: attachment, event: { change: applyChanges }" />Scroll
    </label>
    <label class="form-label">
        <input name="attachment" type="radio" value="fixed"
            data-bind="checked: attachment, event: { change: applyChanges }" />Fixed
    </label>
    <label class="form-label">
        <input name="attachment" type="radio" value="local"
            data-bind="checked: attachment, event: { change: applyChanges }" />Local
    </label>
</div>

<div class="form-group">
    <label class="form-label" for="blend">
        Background blend mode
    </label>
    <div class="input-group">
        <select id="blend" class="form-control" data-bind="value: blend">
            <option value="normal">Normal</option>
            <option value="multiply">Multiply</option>
            <option value="screen">Screen</option>
            <option value="overlay">Overlay</option>
            <option value="darken">Darken</option>
            <option value="lighten">Lighten</option>
            <option value="color-dodge">Color dodge</option>
            <option value="color-burn">Color burn</option>
            <option value="hard-light">Hard light</option>
            <option value="soft-light">Soft light</option>
            <option value="difference">Difference</option>
            <option value="exclusion">Exclusion</option>
            <option value="hue">Hue</option>
            <option value="saturation">Saturation</option>
            <option value="color">Color</option>
            <option value="luminosity">Luminosity</option>
        </select>
    </div>
</div>
<!-- /ko -->